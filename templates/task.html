{% extends "base.html" %}
{% block title %}
I am a task node
{% endblock %}


{% block head %}
<script id="clProgramVectorAdd" type="text/x-opencl">
  __kernel void ckVectorAdd(__global unsigned int* vectorIn1,
                            __global unsigned int* vectorIn2,
                            __global unsigned int* vectorOut,
                            unsigned int uiVectorWidth) {
     unsigned int x = get_global_id(0);
     if (x >= (uiVectorWidth))
     {
       return;
    }
    // add the vector elements
    vectorOut[x] = vectorIn1[x] + vectorIn2[x];
  }
</script>

<script type="text/javascript">
$(document).ready(function() {
task_id = "{{ context.task_id }}";
//dumpCLData();
//CL_vectorAdd();
//get_host_args();

});
</script>

<script src="/static/js/ping.js" type"text/javascript"></script>

{% endblock %}

{% block content %}
<div class="container">
  <h3> Currently running task node #{{ context.task_id }} </h3>
  <!-- add a status bar updating about current system state -->
  <div id="output"> </div>
</div>

{% endblock %}

{% block matrix %}
<canvas id="laplace" width="0" height="0">
</canvas>

<script src="/static/js/fill_canvas.js"></script>

<script>
  var test_array = [];
  for (var i = 0; i < 1024*1024; i++)
    test_array[i] = 0;

  var row_size = 1024;
  draw_matrix(test_array, row_size);
</script>

{% endblock %}
